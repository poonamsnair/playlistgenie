{% extends 'base.html' %}

{% block content %}
<div class="container">
  <div class="row">
    {% for playlist_card in playlist_cards %}
      <div class="col-md-3">
        <div class="card mb-4 box-shadow">
          <img class="card-img-top" src="{{ playlist_card['image'] }}" alt="{{ playlist_card['title'] }}">
          <div class="card-body">
            <h5 class="card-title">{{ playlist_card['title'] }}</h5>
            <p class="card-text">{{ playlist_card['unique_track_count'] }} unique tracks</p>
            {% if not playlist_card['rate_disabled'] %}
              <button type="button" class="btn btn-sm btn-outline-secondary">Rate Playlist</button>
            {% else %}
              <button type="button" class="btn btn-sm btn-outline-secondary" disabled>Rate Playlist</button>
            {% endif %}
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
  <nav aria-label="Playlist navigation">
    <ul class="pagination justify-content-center">
      {% if playlist_cards.has_prev %}
        <li class="page-item">
          <a class="page-link" href="{{ url_for('playlist_list', page=playlist_cards.prev_num) }}" tabindex="-1">Previous</a>
        </li>
      {% else %}
        <li class="page-item disabled">
          <span class="page-link">Previous</span>
        </li>
      {% endif %}
      {% for num in playlist_cards.iter_pages() %}
        {% if num %}
          {% if num == playlist_cards.page %}
            <li class="page-item active">
              <span class="page-link">{{ num }}</span>
            </li>
          {% else %}
            <li class="page-item">
              <a class="page-link" href="{{ url_for('playlist_list', page=num) }}">{{ num }}</a>
            </li>
          {% endif %}
        {% else %}
          <li class="page-item disabled">
            <span class="page-link">...</span>
          </li>
        {% endif %}
      {% endfor %}

      {% if playlist_cards.has_next %}
        <li class="page-item">
          <a class="page-link" href="{{ url_for('playlist_list', page=playlist_cards.next_num) }}">Next</a>
        </li>
      {% else %}
        <li class="page-item disabled">
          <span class="page-link">Next</span>
        </li>
      {% endif %}
    </ul>
  </nav>
</div>
{% endblock %}
