{% if show_loader %}
  <!-- Loader HTML -->
  <div class="loader-wrapper" id="loader">
    <div class="loader-container">
      <div class="loader"></div>
    </div>
  </div>

  <script>
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
      return new bootstrap.Tooltip(tooltipTriggerEl)
    })

    function showLoader() {
      $('#loader').fadeIn('slow');
    }

    function hideLoader() {
      $('#loader').fadeOut('slow');
    }

    var pageLoaded = false;
    $(document).ready(function() {
      pageLoaded = true;
    });

    $(document).on('click', 'a:not([href^="#"])', function () {
      if (pageLoaded) {
        showLoader();
      }
    });

    $(document).on('submit', 'form', function () {
      if (pageLoaded) {
        showLoader();
      }
    });
  </script>
{% endif %}
